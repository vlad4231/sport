<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–°–ü–û–†–¢ –ë–ê–†</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
  <style>
    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(40px); }
      to { opacity: 1; transform: translateY(0); }
    }

    section {
      animation: fadeInUp 1s ease forwards;
      opacity: 0;
    }

    section:nth-of-type(2) { animation-delay: 0.2s; }
    section:nth-of-type(3) { animation-delay: 0.4s; }
    section:nth-of-type(4) { animation-delay: 0.6s; }
    section:nth-of-type(5) { animation-delay: 0.8s; }
    section:nth-of-type(6) { animation-delay: 1s; }
    section:nth-of-type(7) { animation-delay: 1.2s; }

    * { box-sizing: border-box; }
    body { margin: 0; font-family: 'Montserrat', sans-serif; background-color: #fff; color: #111; }
    header {
      position: relative;
      background: url('https://images.unsplash.com/photo-1522202176988-66273c2fd55f?auto=format&fit=crop&w=1600&q=80') no-repeat center/cover;
      height: 60vh; display: flex; align-items: center; justify-content: center;
      color: white; text-shadow: 1px 1px 8px #000;
    }
    nav { position: absolute; top: 20px; right: 30px; }
    nav a { margin-left: 20px; color: white; text-decoration: none; font-weight: 600; }
    header h1 { font-size: 48px; font-weight: 600; text-align: center; }
    section { padding: 60px 20px; max-width: 1000px; margin: auto; }
    h2 { font-size: 32px; margin-bottom: 20px; text-align: center; }
    .about, .contacts { text-align: center; line-height: 1.6; font-size: 18px; }
    .gallery { display: flex; flex-wrap: wrap; justify-content: center; gap: 20px; }
    .gallery img {
      width: 300px; height: 200px; object-fit: cover; border-radius: 12px;
    }
    .schedule li { font-size: 18px; margin-bottom: 10px; text-align: center; }
    .button {
      display: inline-block; margin-top: 20px; padding: 14px 28px;
      background-color: #0c0; color: white; border: none; border-radius: 8px;
      font-size: 16px; text-decoration: none;
      transition: all 0.3s ease;
    }
    .button:hover {
      background-color: #090;
      transform: scale(1.05);
    }
    .map { width: 100%; height: 400px; border: none; border-radius: 12px; margin-top: 20px; }
    footer { background-color: #0f0f0f; color: #aaa; text-align: center; padding: 20px; font-size: 14px; }
    
    /* –°—Ç–∏–ª–∏ —Ñ–æ—Ä–º—ã */
    #booking-form {
      max-width: 500px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      gap: 15px;
    }
    #booking-form input,
    #booking-form textarea,
    #booking-form button {
      font-family: 'Montserrat', sans-serif;
      padding: 12px;
      border: 1px solid #ddd;
      border-radius: 8px;
      font-size: 16px;
    }
    #booking-form button {
      background-color: #0c0;
      color: white;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    #booking-form button:hover {
      background-color: #090;
    }
    input:invalid, textarea:invalid {
      border: 1px solid #ff6b6b;
    }
  </style>
</head>
<body>
  <header>
    <nav>
      <a href="#about">–û –Ω–∞—Å</a>
      <a href="#services">–£—Å–ª—É–≥–∏</a>
      <a href="#booking">–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</a>
      <a href="#contacts">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
    </nav>
    <h1>–°–ü–û–†–¢ –ë–ê–†<br/>–≤ –¢–†–ö ¬´–®–∞–º—Å–∞¬ª</h1>
  </header>

  <section class="about" id="about">
    <h2>–û –Ω–∞—Å</h2>
    <p>–°–ø–æ—Ä—Ç-–±–∞—Ä –≤ —Å–∞–º–æ–º —Ü–µ–Ω—Ç—Ä–µ –ü–µ—Ç—Ä–æ–ø–∞–≤–ª–æ–≤—Å–∫–∞-–ö–∞–º—á–∞—Ç—Å–∫–æ–≥–æ.<br/>
    –£—é—Ç–Ω–∞—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞, –ø—Ä—è–º—ã–µ —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏–∏ –º–∞—Ç—á–µ–π, –µ–¥–∞ –∏ –Ω–∞–ø–∏—Ç–∫–∏, –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–æ–ª–∏–∫–æ–≤ –æ–Ω–ª–∞–π–Ω.</p>
    <a href="#booking" class="button">–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–æ–ª–∏–∫</a>
  </section>

  <section id="services">
    <h2>–ù–∞—à–∏ —É—Å–ª—É–≥–∏</h2>
    <ul class="schedule">
      <li>üì∫ –ü—Ä—è–º—ã–µ —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏–∏ —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π</li>
      <li>üçª –ë–æ–ª—å—à–æ–π –≤—ã–±–æ—Ä –Ω–∞–ø–∏—Ç–∫–æ–≤ –∏ –∑–∞–∫—É—Å–æ–∫</li>
      <li>üéâ –ü—Ä–æ–≤–µ–¥–µ–Ω–∏–µ –≤–µ—á–µ—Ä–∏–Ω–æ–∫ –∏ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–æ–≤</li>
      <li>ü™ë –û–Ω–ª–∞–π–Ω-–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–æ–ª–∏–∫–æ–≤</li>
      <li>üéÆ –ù–∞—Å—Ç–æ–ª—å–Ω—ã–µ –∏–≥—Ä—ã –∏ –ø—Ä–∏—Å—Ç–∞–≤–∫–∏</li>
    </ul>
  </section>

  <script>
  document.getElementById('booking-form').addEventListener('submit', async (e) => {
    e.preventDefault();
    
    // –≠–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞
    const submitBtn = e.target.querySelector('button[type="submit"]');
    const originalBtnText = submitBtn.textContent;
    
    // URL –≤–∞—à–µ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞
    const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycby0f2SthZ30mzs3JJe5p-MqbhtP2DE4i1_h3lKJu57gO5CsKJC-BSLKkCde8mS7-G-c/exec';
    
    // –î–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã
    const formData = {
      name: e.target.name.value.trim(),
      phone: e.target.phone.value.trim(),
      date: e.target.date.value,
      time: e.target.time.value,
      message: e.target.message.value.trim() || '‚Äî'
    };

    try {
      // –í–∏–∑—É–∞–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏
      submitBtn.disabled = true;
      submitBtn.textContent = '–û—Ç–ø—Ä–∞–≤–∫–∞...';
      
      // 1. –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ Google –¢–∞–±–ª–∏—Ü—ã
      const response = await fetch(SCRIPT_URL, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(formData)
      });
      
      // –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–≤–µ—Ç–∞
      if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
      
      const result = await response.json();
      if (!result.success) throw new Error(result.error || 'Unknown error');
      
      // 2. –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ Telegram (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
      try {
        const telegramText = `–ù–æ–≤–∞—è –±—Ä–æ–Ω—å:\n–ò–º—è: ${formData.name}\n–¢–µ–ª–µ—Ñ–æ–Ω: ${formData.phone}`;
        await fetch(`https://api.telegram.org/bot7775702163:AAFYPIITtHTdCFRWz2EusCcaXrE2OiNLNGc/sendMessage?chat_id=780309138&text=${encodeURIComponent(telegramText)}`);
      } catch (tgError) {
        console.warn('–û—à–∏–±–∫–∞ Telegram:', tgError);
      }
      
      // –£—Å–ø–µ—à–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ
      alert('‚úÖ –ë—Ä–æ–Ω—å —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞! –ú—ã —Å–∫–æ—Ä–æ —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏.');
      e.target.reset();
      
    } catch (error) {
      console.error('–û—à–∏–±–∫–∞:', error);
      alert(`‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ: ${error.message}\n–ü–æ–∑–≤–æ–Ω–∏—Ç–µ –Ω–∞–º: +7 (XXX) XXX-XX-XX`);
    } finally {
      submitBtn.disabled = false;
      submitBtn.textContent = originalBtnText;
    }
  });
</script>
</body>
</html>
